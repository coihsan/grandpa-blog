import"./ViewTransitions.astro_astro_type_script_index_0_lang.DnFK6dK7.js";import{_ as u}from"./preload-helper.ygWHROA3.js";function m(n={}){const{immediate:f=!1,onNeedRefresh:c,onOfflineReady:r,onRegistered:g,onRegisteredSW:s,onRegisterError:o}=n;let i,d,l;const p=async(e=!0)=>{await d,await l?.()};async function w(){if("serviceWorker"in navigator){if(i=await u(()=>import("./workbox-window.prod.es5.DFjpnwFp.js"),[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{o?.(e)}),!i)return;l=async()=>{await i?.messageSkipWaiting()};{let e=!1;const a=()=>{e=!0,i?.addEventListener("controlling",t=>{t.isUpdate&&window.location.reload()}),c?.()};i.addEventListener("installed",t=>{typeof t.isUpdate>"u"?typeof t.isExternal<"u"?t.isExternal?a():!e&&r?.():t.isExternal?window.location.reload():!e&&r?.():t.isUpdate||r?.()}),i.addEventListener("waiting",a),i.addEventListener("externalwaiting",a)}i.register({immediate:f}).then(e=>{s?s("/sw.js",e):g?.(e)}).catch(e=>{o?.(e)})}}return d=w(),p}m({immediate:!0,onRegisteredSW(n){console.log("SW registered: ",n)},onOfflineReady(){console.log("PWA application ready to work offline")}});
